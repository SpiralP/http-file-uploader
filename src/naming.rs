use std::{
    sync::{LazyLock, Mutex},
    time::Instant,
};

use rand::seq::SliceRandom;
use tracing::{debug, warn};

static COMBINATIONS: LazyLock<Mutex<Vec<[usize; 3]>>> = LazyLock::new(|| {
    let start_time = Instant::now();

    let mut combinations = Vec::new();

    for i in 0..WORD_GROUPS[0].len() {
        for j in 0..WORD_GROUPS[1].len() {
            for k in 0..WORD_GROUPS[2].len() {
                combinations.push([i, j, k]);
            }
        }
    }

    combinations.shuffle(&mut rand::rng());

    debug!(
        "Time taken to generate combinations: {:?}",
        start_time.elapsed()
    );

    Mutex::new(combinations)
});

static CURRENT_INDEX: LazyLock<Mutex<usize>> = LazyLock::new(|| Mutex::new(0));

pub fn get_random_word_string() -> String {
    let combinations = COMBINATIONS.lock().unwrap();
    let mut current_index = CURRENT_INDEX.lock().unwrap();

    if let Some(combination) = combinations.get(*current_index) {
        *current_index += 1;
        [
            WORD_GROUPS[0][combination[0]],
            WORD_GROUPS[1][combination[1]],
            WORD_GROUPS[2][combination[2]],
        ]
        .join("-")
    } else {
        warn!("No more combinations available, wrapping around");

        *current_index = 0;
        drop(combinations);
        drop(current_index);

        get_random_word_string()
    }
}

const WORD_GROUPS: &[&[&str]] = &[
    &[
        "abby",
        "agata",
        "aimee",
        "akua",
        "albus",
        "alf",
        "algae",
        "alpha",
        "amigo",
        "anakin",
        "annabel",
        "apple",
        "archer",
        "areyah",
        "aries",
        "artemis",
        "arya",
        "astrid",
        "athena",
        "aussie",
        "autumn",
        "badboy",
        "bailey",
        "baloney",
        "bane",
        "banjo",
        "barker",
        "barnaby",
        "barney",
        "baron",
        "bartholomew",
        "bastet",
        "batley",
        "batman",
        "battleship",
        "baylor",
        "beans",
        "bear",
        "bella",
        "belle",
        "ben",
        "benny",
        "bernard",
        "beta",
        "big",
        "biggles",
        "bill",
        "bingo",
        "binx",
        "biscuit",
        "biscuits",
        "blitzle",
        "blue",
        "bluecat",
        "bo",
        "bob",
        "bojangles",
        "bombay",
        "bone",
        "boris",
        "boule",
        "bouncer",
        "brownie",
        "bubba",
        "bunny",
        "buster",
        "butters",
        "butterscotch",
        "buttons",
        "cakes",
        "callie",
        "candy",
        "captain",
        "carl",
        "carlin",
        "carter",
        "cash",
        "catner",
        "chairman",
        "chalice",
        "charles",
        "charley",
        "charlie",
        "charlotte",
        "chauncy",
        "cheese",
        "cheong",
        "chester",
        "chewie",
        "chewy",
        "chez",
        "chickpea",
        "chloe",
        "chrissy",
        "churchill",
        "cinderella",
        "cisco",
        "claude",
        "cleo",
        "cloud",
        "clyde",
        "commodore",
        "cora",
        "coral",
        "coraline",
        "cricket",
        "cujo",
        "cuppy",
        "cypress",
        "daisy",
        "dali",
        "damien",
        "daniel",
        "dante",
        "dany",
        "darla",
        "darwin",
        "dean",
        "delilah",
        "dexter",
        "dezi",
        "diablo",
        "dib",
        "diego",
        "dobby",
        "dolce",
        "dolly",
        "dovahkiin",
        "dr",
        "drusilla",
        "dudley",
        "duke",
        "dusty",
        "edgar",
        "elvis",
        "emergency",
        "emma",
        "emmett",
        "ernie",
        "eve",
        "ezio",
        "farofa",
        "felix",
        "fifi",
        "finn",
        "finnegan",
        "florence",
        "fluff",
        "fran",
        "francine",
        "frank",
        "frankie",
        "fred",
        "freddie",
        "french",
        "frigg",
        "frita",
        "froggy",
        "fudge",
        "furr",
        "furray",
        "gadget",
        "gaia",
        "gallifrey",
        "garfield",
        "gato",
        "george",
        "giblet",
        "gilbert",
        "gilgamesh",
        "ginger",
        "ginko",
        "gisle",
        "gizmo",
        "glados",
        "godzilla",
        "goose",
        "gordon",
        "griffey",
        "halo",
        "han",
        "harleigh",
        "harley",
        "hawthorne",
        "hazey",
        "heisenberg",
        "helios",
        "hemingway",
        "henry",
        "hexxus",
        "hilo",
        "hobbes",
        "hogan",
        "holden",
        "honey",
        "huckle",
        "hunter",
        "hyperion",
        "ignacio",
        "indiana",
        "inky",
        "isaac",
        "isaiah",
        "isis",
        "jack",
        "jackson",
        "jake",
        "james",
        "janeway",
        "jareth",
        "jarvis",
        "jasper",
        "jeffery",
        "jerry",
        "jinx",
        "joe",
        "joey",
        "jones",
        "jory",
        "june",
        "junior",
        "kaiser",
        "kalie",
        "kaliste",
        "kasper",
        "keti",
        "kevin",
        "kiara",
        "kidu",
        "kiera",
        "kiki",
        "king",
        "kins",
        "kira",
        "kirby",
        "kitana",
        "kitten",
        "kitty",
        "kiwi",
        "kora",
        "krackel",
        "larry",
        "leela",
        "lela",
        "lenny",
        "leo",
        "leonard",
        "levi",
        "lexie",
        "liam",
        "lillie",
        "lilly",
        "lily",
        "link",
        "little",
        "loki",
        "lola",
        "lord",
        "louie",
        "lucky",
        "lucy",
        "ludwig",
        "luffy",
        "luke",
        "luna",
        "lunatic",
        "lunchbox",
        "lydia",
        "lynn",
        "mac",
        "macy",
        "madeline",
        "magellan",
        "maggie",
        "magoo",
        "maizy",
        "malibu",
        "mana",
        "manny",
        "marceline",
        "mardi",
        "margot",
        "marko",
        "marley",
        "marlowe",
        "marna",
        "marshmallow",
        "mary",
        "mau",
        "maude",
        "max",
        "maybe",
        "me",
        "medea",
        "meeko",
        "meera",
        "mei",
        "memine",
        "meow",
        "meowington",
        "merlin",
        "mew",
        "mia",
        "michaelangelo",
        "midi",
        "midna",
        "miggy",
        "milan",
        "mildred",
        "milkshake",
        "milo",
        "milton",
        "mina",
        "minka",
        "minnie",
        "mischief",
        "miso",
        "miss",
        "missy",
        "misty",
        "mittens",
        "mittenz",
        "mitzi",
        "mixi",
        "moe",
        "mojo",
        "molly",
        "monster",
        "monty",
        "moogy",
        "moose",
        "morgan",
        "mort",
        "mosley",
        "mouse",
        "mow",
        "mr",
        "mrs",
        "muad",
        "mufasa",
        "muffet",
        "muffin",
        "mulan",
        "mushi",
        "nala",
        "napoleon",
        "nas",
        "nels",
        "nemo",
        "ness",
        "newt",
        "nicholas",
        "nigel",
        "nikko",
        "niles",
        "nina",
        "nino",
        "nitro",
        "noel",
        "noire",
        "nymeria",
        "nyx",
        "odessa",
        "odin",
        "olive",
        "oliver",
        "opie",
        "oreo",
        "oscar",
        "otis",
        "otto",
        "oz",
        "paco",
        "padme",
        "padraic",
        "panda",
        "papi",
        "paschoal",
        "paw",
        "pax",
        "peach",
        "peaches",
        "peanut",
        "peekaboo",
        "penelope",
        "penny",
        "pepper",
        "phoebe",
        "pico",
        "pierre",
        "pig",
        "pineapple",
        "pinocchio",
        "pistachio",
        "playboy",
        "pluto",
        "pond",
        "pootie",
        "poppet",
        "poppy",
        "potato",
        "puff",
        "pumpkin",
        "purrcules",
        "pushkin",
        "quentin",
        "quinn",
        "raja",
        "ramses",
        "randy",
        "ranger",
        "red",
        "reese",
        "renly",
        "rhaegar",
        "riley",
        "rita",
        "ritzy",
        "river",
        "roger",
        "roland",
        "romeo",
        "rouge",
        "ruby",
        "saffy",
        "sakamoto",
        "sakura",
        "salem",
        "sam",
        "samson",
        "sandwich",
        "sasha",
        "scaredy",
        "scorpio",
        "scratch",
        "scribbles",
        "seabass",
        "shadow",
        "shampoo",
        "shay",
        "sheeba",
        "sheldon",
        "shelly",
        "shimmy",
        "shmi",
        "shocky",
        "sidney",
        "silver",
        "simba",
        "simon",
        "simone",
        "skippy",
        "smokee",
        "smokey",
        "smokie",
        "smoky",
        "smudge",
        "sneakers",
        "snowball",
        "snowy",
        "sofie",
        "solo",
        "sonny",
        "sparrow",
        "spartapuss",
        "spectre",
        "spock",
        "spoons",
        "squeakers",
        "squirt",
        "squishy",
        "star",
        "sterling",
        "steve",
        "strayborn",
        "stripe",
        "sue",
        "sugar",
        "suki",
        "sulis",
        "suzi",
        "sweep",
        "sy",
        "t",
        "taco",
        "tak",
        "tallow",
        "tallulah",
        "tank",
        "tati",
        "taz",
        "tazo",
        "teddy",
        "tex",
        "theodora",
        "thomas",
        "tiddles",
        "tigger",
        "tim",
        "tinkerbell",
        "titan",
        "tobi",
        "tobias",
        "toby",
        "tom",
        "tommy",
        "topher",
        "toro",
        "tough",
        "toulouse",
        "trick",
        "trouble",
        "tuna",
        "twitch",
        "tyson",
        "venom",
        "vern",
        "victor",
        "virtue",
        "visa",
        "waffle",
        "waffles",
        "wallace",
        "wally",
        "walter",
        "wazzie",
        "weasley",
        "wheatley",
        "whisky",
        "whisp",
        "wiley",
        "wilhelm",
        "william",
        "willis",
        "willy",
        "wilson",
        "winston",
        "xaiotato",
        "yang",
        "yik",
        "yin",
        "yoda",
        "zappacatsa",
        "zef",
        "zelda",
        "zephy",
        "zeppelin",
        "ziggy",
        "zippy",
        "zoe",
        "zoey",
    ],
    &[
        "alpha", "beta", "chi", "delta", "epsilon", "eta", "gamma", "iota", "kappa", "lambda",
        "mu", "nu", "omega", "omicron", "phi", "pi", "psi", "rho", "sigma", "tau", "theta",
        "upsilon", "xi", "zeta",
    ],
    &[
        "actinium",
        "aluminium",
        "americium",
        "antimony",
        "argon",
        "arsenic",
        "astatine",
        "asterisk",
        "baasterisk",
        "barium",
        "berkelium",
        "beryllium",
        "bismuth",
        "bohrium",
        "boron",
        "bromine",
        "cadmium",
        "caesium",
        "calcium",
        "californium",
        "carbon",
        "cerium",
        "chlorine",
        "chromium",
        "cobalt",
        "copernicium",
        "copper",
        "curium",
        "darmstadtium",
        "dubnium",
        "dysprosium",
        "einsteinium",
        "erbium",
        "europium",
        "fermium",
        "flerovium",
        "fluorine",
        "francium",
        "gadolinium",
        "gallium",
        "germanium",
        "gold",
        "hafnium",
        "hassium",
        "helium",
        "holmium",
        "hydrogen",
        "indium",
        "iodine",
        "iridium",
        "iron",
        "krypton",
        "lanthanum",
        "lawrencium",
        "lead",
        "lithium",
        "livermorium",
        "lutetium",
        "magnesium",
        "manganese",
        "meitnerium",
        "mendelevium",
        "mercury",
        "molybdenum",
        "moscovium",
        "neodymium",
        "neon",
        "neptunium",
        "nickel",
        "nihonium",
        "niobium",
        "nitrogen",
        "nobelium",
        "oganesson",
        "osmium",
        "oxygen",
        "palladium",
        "phosphorus",
        "platinum",
        "plutonium",
        "polonium",
        "potassium",
        "praseodymium",
        "promethium",
        "protactinium",
        "raasterisk",
        "radium",
        "radon",
        "rhenium",
        "rhodium",
        "roentgenium",
        "rubidium",
        "ruthenium",
        "rutherfordium",
        "samarium",
        "scandium",
        "seaborgium",
        "selenium",
        "silicon",
        "silver",
        "sodium",
        "strontium",
        "sulfur",
        "tantalum",
        "technetium",
        "tellurium",
        "tennessine",
        "terbium",
        "thallium",
        "thorium",
        "thulium",
        "tin",
        "titanium",
        "tungsten",
        "uranium",
        "vanadium",
        "xenon",
        "ytterbium",
        "yttrium",
        "zinc",
        "zirconium",
    ],
];
